<html>

<head>
  <title>Main Mall Hustle</title>
  <script src="https://aframe.io/releases/0.8.2/aframe.min.js"></script>
  <script src="//cdn.rawgit.com/donmccurdy/aframe-physics-system/v4.0.1/dist/aframe-physics-system.js"></script>
  <script src="//cdn.rawgit.com/donmccurdy/aframe-extras/v5.0.0/dist/aframe-extras.min.js"></script>
  <script src="https://unpkg.com/aframe-aabb-collider-component@3.1.0/dist/aframe-aabb-collider-component.min.js"></script>
  <!--<script src="https://unpkg.com/aframe-template-component@3.2.1/dist/aframe-template-component.min.js"></script>-->
  <script src="public/scripts/start_scene_cursor_listener.js"></script>
  <script src="public/scripts/fail_scene_cursor_listener.js"></script>
  <script src="public/scripts/end_scene_cursor_listener.js"></script>
  <script src="public/scripts/main_mall_manager.js"></script>
  <script src="public/scripts/timer.js"></script>
  <script src="public/scripts/camera_controller.js"></script>
  <script src="public/scripts/player_controller.js"></script>
  <script src="public/scripts/obstacle_collision_listener.js"></script>
  <script src="public/scripts/collectible_collision_listener.js"></script>
</head>

<body>
  <a-scene>
    <a-assets>
      <!--Start Scene Assets-->
      <img id="start_scene_background" src="public/materials/start_scene_background.png">
      <img id="main_menu" src="public/materials/main_menu.png">
      <img id="about_game_menu" src="public/materials/about_game_menu.png">
      <img id="about_team_menu" src="public/materials/about_team_menu.png">
      <!--Game Mode Assets-->
      <img id="ground" src="public/materials/ground.png">
      <img id="sky" src="public/materials/sky.png">
      <a-asset-item id="building" src="public/UBC_buildings/buildings.obj"></a-asset-item>
      <a-asset-item id="building-mtl" src="public/UBC_buildings/full_2.mtl"></a-asset-item>
      <a-asset-item id="tree" src="public/models/tree.obj"></a-asset-item>
      <a-asset-item id="tree-mtl" src="public/models/tree.mtl"></a-asset-item>
      <img id="font_image" src="public/fonts/Whitney.png">
      <img id="person1" src="public/materials/person1.png">
      <img id="person2" src="public/materials/person2.png">
      <img id="person3" src="public/materials/person3.png">
      <img id="person4" src="public/materials/person4.png">
      <img id="person5" src="public/materials/person5.png">
      <img id="person6" src="public/materials/person6.png">
      <img id="person7" src="public/materials/person7.png">
      <img id="person8" src="public/materials/person8.png">
      <img id="person9" src="public/materials/person9.png">
      <a-asset-item id="boba" src="public/models/boba.obj"></a-asset-item>"
      <a-asset-item id="boba-mtl" src="public/models/boba.mtl"></a-asset-item>"

      <!-- <img id="AERLtext" src="public/UBC_buildings/Materials/AERLtext.jpg">
      <a-asset-item id="AERLtext-meta" src="public/UBC_buildings/Materials/AERLtext.jpg.meta"></a-asset-item>
      <img id="EOS" src="public/UBC_buildings/Materials/EOS.jpg">
      <img id="Fredric" src="public/UBC_buildings/Materials/Fredric_Lassere.png">
      <a-asset-item id="Fredric-meta" src="public/UBC_buildings/Materials/Fredric_Lassere.png.meta"></a-asset-item>
      <a-asset-item id="Fredric-mat" src="public/UBC_buildings/Materials/Fredric_Lassere.mat"></a-asset-item>
      <a-asset-item id="Fredric-mat-meta" src="public/UBC_buildings/Materials/Fredric_Lassere.mat.meta"></a-asset-item>
      <a-asset-item id="EOS-meta" src="public/UBC_buildings/Materials/EOS.jpg.meta"></a-asset-item>
      <img id="scarfe" src="public/UBC_buildings/Materials/texture_scarfe.jpg">
      <a-asset-item id="scarfe-meta" src="public/UBC_buildings/Materials/texture_scarfe.jpg.meta"></a-asset-item>
      <a-asset-item id="scarfe-mat" src="public/UBC_buildings/Materials/texture_scarfe.mat"></a-asset-item>
      <a-asset-item id="scarfe-mat-meta" src="public/UBC_buildings/Materials/texture_scarfe.mat.meta"></a-asset-item> -->
      <!--Fail Scene Assets-->
      <img id="fail_menu" src="public/materials/fail_menu.png">
      <!--End Scene Assets-->
      <img id="end_scene_background" src="public/materials/end_scene_background.JPG">
      <img id="end_menu" src="public/materials/end_menu.png">
      <!--<a-asset-item id="room" src="public/spooky_room.obj"></a-asset-item>-->
      <!--<a-asset-item id="room-mtl" src="public/spooky_room.mtl"></a-asset-item>-->
    </a-assets>

    <!-- <a-entity id="rig" position="0 0 0">
      <a-camera id="camera" active="true" position="0 1.6 0" user-height="0"> 
        <a-entity id="cursor" cursor="fuse: true; fuseTimeout: 1000" raycaster="objects: .clickable" position="0 0 -1" geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03" material="color: white; shader: flat">
          <a-animation begin="cursor-hovering" easing="ease-in" attribute="scale" fill="backwards" from="0.1 0.1 0.1" to="1 1 1"></a-animation>
        </a-entity>
        <a-entity id="timer_text" position="0 0.75 -1.5" text="value:Hello; color:#FFFFFF; font:public/fonts/Whitney.fnt; align:center" scale="7 7 7" timer></a-entity>
      </a-camera> 
    </a-entity> -->
    <a-entity id="rig" position="0 1.6 0" movement-controls camera-controller>
      <a-entity id="camera" camera="active:true; user-height:0" position="0 0 0" look-controls wasd-controls> 
        <a-entity id="cursor" cursor="fuse: true; fuseTimeout: 1000" raycaster="objects: .clickable" position="0 0 -1" geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03" material="color: white; shader: flat">
          <a-animation begin="cursor-hovering" easing="ease-in" attribute="scale" fill="backwards" from="0.1 0.1 0.1" to="1 1 1"></a-animation>
        </a-entity>
        <a-entity id="timer_text" position="0 0.25 -0.5" text="value:Press trigger when you're ready; color:#FFFFFF; font:public/fonts/Whitney.fnt; align:center" scale="2 2 2" timer></a-entity>
        <a-entity id="minus_text" position="0.15 0.25 -0.5" text="value:-10; color:#FF0000; font:public/fonts/Whitney.fnt; align:center" scale="2 2 2"></a-entity>
        <a-entity id="plus_text" position="0.15 0.25 -0.5" text="value:+5; color:#00FF00; font:public/fonts/Whitney.fnt; align:center" scale="2 2 2"></a-entity>
      </a-entity> 
    </a-entity>

    <a-entity id="Start Scene">
      <a-sky rotation="0 -120 0" src="#start_scene_background"></a-sky>
      <a-image position="0 1.6 -1.5" height="2" width="1.334123" src="#main_menu"></a-image>
      <a-entity id="start_scene_button" class="clickable" position="0 1.83 -1.5" geometry="primitive: box; width: 0.72; height: 0.21; depth: 0.01" material="opacity: 0;" start-scene-cursor-listener></a-entity>
      <!--<a-box id="start_scene_button" position = "0 0.23 -1.5" width="0.72" height="0.21" depth="0.01" material="color: blue;" start-scene-cursor-listener></a-box>-->
      <a-image position="-1.5 1.6 -1" rotation="0 45 0" height="2" width="1.334123" src="#about_team_menu"></a-image>
      <a-image position="1.5 1.6 -1" rotation="0 -45 0" height="2" width="1.334123" src="#about_game_menu"></a-image>
    </a-entity>

    <a-entity id="Game Scene">
      <a-sky src="#sky"></a-sky>
      <a-light type="ambient" color="#FFF"></a-light>
      <a-plane position="0 -0.025 0" color="#000" height="2500" width="500" rotation="-90 0 0" static-body physics="friction: 0"></a-plane>></a-plane>
      <!-- <a-entity id="UBC-buildings" obj-model="obj: #building; mtl:#building-mtl " position="-7.190 -6.25 -90" rotation="0 90 180" scale="-338.04312 -338.044 388"></a-entity> -->
      <!-- <a-entity obj-model="obj: #tree; mtl:#tree-mtl " position="-1.512 0.3961 0" rotation="0 90 180" scale="1 -1 1"></a-entity>
      <a-entity obj-model="obj: #tree; mtl:#tree-mtl " position="-1.512 0.3961 10" rotation="0 90 180" scale="1 -1 1"></a-entity>
      <a-entity obj-model="obj: #tree; mtl:#tree-mtl " position="-1.512 0.3961 0" rotation="0 90 180" scale="1 -1 1"></a-entity>
      <a-entity obj-model="obj: #tree; mtl:#tree-mtl " position="-1.512 0.3961 10" rotation="0 90 180" scale="1 -1 1"></a-entity>
      <a-entity obj-model="obj: #tree; mtl:#tree-mtl " position="-1.512 0.3961 10" rotation="0 90 180" scale="1 -1 1"></a-entity>
      <a-entity obj-model="obj: #tree; mtl:#tree-mtl " position="-1.512 0.3961 10" rotation="0 90 180" scale="1 -1 1"></a-entity>
      <a-entity obj-model="obj: #tree; mtl:#tree-mtl " position="-1.512 0.3961 10" rotation="0 90 180" scale="1 -1 1"></a-entity> -->
      <a-box id="leftwall" position="-15.5 1 -530" width="1" height="2" depth ="1140"></a-box>
      <a-box id="rightwall" position="15.5 1 -530" width="1" height="2" depth ="1140"></a-box> <!-- should be 30 m apart, more or less: -16 1 -600 with dimension of 1 2 1200 -->
      <a-box id="backwall" position="0 1 40.5" width="30" height="2" depth="1"></a-box> <!-- should be 40m behind player; 0 1 40; width="30" height="2" depth="1" -->
      <!-- <a-entity position="0 0 0" text="font: mozillavr; value: Via stock font name."></a-entity> -->
      <!--<a-sphere sphere-collider='' position="3 0.5 -3" radius="0.25" color="#EF2D5E"></a-sphere>-->
      <a-image id="student" class="obstacle" position="3 1 -1" width="1" height="2" src="#person1" static-body>
        <a-animation attribute="position" from="5 1 -1" to="5 1 -3" direction="alternate" repeat="indefinite" dur="5000"></a-animation>
      </a-image>
      <!-- <a-entity id="UBC-buildings" obj-model="obj: #building; mtl:#building-mtl " position="-7.190 -6.25 -90" rotation="0 90 180" scale="-338.04312 -338.044 388"></a-entity> -->

      <a-entity id="timbit" class="collectible" obj-model="obj: #boba; mtl: #boba-mtl" position="0 1 -4" scale="25 25 25"></a-entity>
      <!-- <a-box id="timbit1" class="collectible" position="0 1 -4" width="2" height="2" depth="2" color="tomato"></a-box> -->
      <a-box id="timbit2" class="collectible" position="0 1 -6" width="2" height="2" depth="2" color="tomato"></a-box>
      <a-box id="timbit3" class="collectible" position="0 1 -8" width="2" height="2" depth="2" color="tomato"></a-box>
      <a-box id="timbit4" class="collectible" position="0 1 -10" width="2" height="2" depth="2" color="tomato"></a-box>
      <a-box id="timbit5" class="collectible" position="0 1 -12" width="2" height="2" depth="2" color="tomato"></a-box>
      <a-box id="timbit6" class="collectible" position="0 1 -14" width="2" height="2" depth="2" color="tomato"></a-box>
      <a-box id="timbit7" class="collectible" position="0 1 -16" width="2" height="2" depth="2" color="tomato"></a-box>
      <a-box id="timbit8" class="collectible" position="0 1 -18" width="2" height="2" depth="2" color="tomato"></a-box>
      <a-box id="timbit9" class="collectible" position="0 1 -20" width="2" height="2" depth="2" color="tomato"></a-box>
      <a-box id="timbit10" class="collectible" position="0 1 -22" width="2" height="2" depth="2" color="tomato"></a-box>
      <a-box id="coffee1" class="collectible" position="0 1 -24" width="2" height="2" depth="2" color="tomato"></a-box>
      <a-box id="coffee2" class="collectible" position="0 1 -26" width="2" height="2" depth="2" color="tomato"></a-box>
      <a-box id="coffee3" class="collectible" position="0 1 -28" width="2" height="2" depth="2" color="tomato"></a-box>
      <a-box id="coffee4" class="collectible" position="0 1 -30" width="2" height="2" depth="2" color="tomato"></a-box>
      <a-box id="coffee5" class="collectible" position="0 1 -32" width="2" height="2" depth="2" color="tomato"></a-box>
      <a-box id="coffee6" class="collectible" position="0 1 -34" width="2" height="2" depth="2" color="tomato"></a-box>
      <a-box id="coffee7" class="collectible" position="0 1 -36" width="2" height="2" depth="2" color="tomato"></a-box>
      <a-box id="coffee8" class="collectible" position="0 1 -38" width="2" height="2" depth="2" color="tomato"></a-box>
      <a-box id="coffee9" class="collectible" position="0 1 -40" width="2" height="2" depth="2" color="tomato"></a-box>
      <a-box id="coffee10" class="collectible" position="0 1 -42" width="2" height="2" depth="2" color="tomato"></a-box>
      <a-box id="boba1" class="collectible" position="0 1 -44" width="2" height="2" depth="2" color="tomato"></a-box>
      <a-box id="boba2" class="collectible" position="0 1 -46" width="2" height="2" depth="2" color="tomato"></a-box>
      <a-box id="boba3" class="collectible" position="0 1 -48" width="2" height="2" depth="2" color="tomato"></a-box>
      <a-box id="boba3" class="collectible" position="0 1 -50" width="2" height="2" depth="2" color="tomato"></a-box>
      <a-box id="boba4" class="collectible" position="0 1 -52" width="2" height="2" depth="2" color="tomato"></a-box>
      <a-box id="boba5" class="collectible" position="0 1 -54" width="2" height="2" depth="2" color="tomato"></a-box>
      <a-box id="boba6" class="collectible" position="0 1 -56" width="2" height="2" depth="2" color="tomato"></a-box>
      <a-box id="boba7" class="collectible" position="0 1 -58" width="2" height="2" depth="2" color="tomato"></a-box>
      <a-box id="boba8" class="collectible" position="0 1 -60" width="2" height="2" depth="2" color="tomato"></a-box>
      <a-box id="boba9" class="collectible" position="0 1 -62" width="2" height="2" depth="2" color="tomato"></a-box>
      <a-box id="boba10" class="collectible" position="0 1 -64" width="2" height="2" depth="2" color="tomato"></a-box>
      <a-box id="boba11" class="collectible" position="0 1 -66" width="2" height="2" depth="2" color="tomato"></a-box>
      <a-box id="boba12" class="collectible" position="0 1 -68" width="2" height="2" depth="2" color="tomato"></a-box>
      <a-box id="boba13" class="collectible" position="0 1 -70" width="2" height="2" depth="2" color="tomato"></a-box>
      <a-box id="boba14" class="collectible" position="0 1 -72" width="2" height="2" depth="2" color="tomato"></a-box>
      <a-box id="boba15" class="collectible" position="0 1 -74" width="2" height="2" depth="2" color="tomato"></a-box>
      <a-sphere id="sphere" radius="0.8" position="0 0 0" dynamic-body="mass: 70; linearDamping: 0.95; angularDamping: 0.95" player-controller aabb-collider="objects: .collectible, .obstacle"></a-sphere>
    </a-entity>

    <a-entity id="Fail Scene">
      <a-sky color="#B18840"></a-sky>
      <a-image position="0 1.6 -1.5" height="2" width="1.334123" src="#fail_menu"></a-image>
      <a-entity id="fail_scene_button" class="clickable" position="0 0.78 -1.5" geometry="primitive: box; width: 0.65; height: 0.13; depth: 0.01" material="opacity: 0;" fail-scene-cursor-listener></a-entity>
      <!--<a-box id="fail_scene_button" position = "-0.25 -0.82 -1.5" width="0.65" height="0.13" depth="0.01" material="color: blue" fail-scene-cursor-listener></a-box>-->
    </a-entity>

    <a-entity id="End Scene">
      <a-sky rotation="0.5 -80 0" src="#end_scene_background"></a-sky>
      <a-image position="0 0 -1.5" height="2" width="1.334123" src="#end_menu"></a-image>
      <a-entity id="end_scene_button" class="clickable" position="0 -0.82 -1.5" geometry="primitive: box; width: 0.65; height: 0.13; depth: 0.01" material="color: blue;" end-scene-cursor-listener></a-entity>
      <!--<a-box id="end_scene_button" position = "0.25 -0.82 -1.5" width="0.65" height="0.13" depth="0.01" material="color: blue" end-scene-cursor-listener></a-box>-->
    </a-entity>

    <a-entity id="Main Mall Manager" main-mall-manager></a-entity>
  </a-scene>
</body>

</html>