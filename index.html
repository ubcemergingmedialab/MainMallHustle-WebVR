<html>

<head>
  <title>Main Mall Hustle</title>
  <script src="https://aframe.io/releases/0.8.2/aframe.min.js"></script>
  <!--<script src="https://unpkg.com/aframe-template-component@3.2.1/dist/aframe-template-component.min.js"></script>-->
  <script src="public/scripts/start_scene_cursor_listener.js"></script>
  <script src="public/scripts/fail_scene_cursor_listener.js"></script>
  <script src="public/scripts/end_scene_cursor_listener.js"></script>
  <script src="public/scripts/main_mall_manager.js"></script>
  <script src="public/scripts/timer.js"></script>
  <script src="//cdn.rawgit.com/donmccurdy/aframe-physics-system/v4.0.1/dist/aframe-physics-system.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.0/dist/aframe-extras.min.js"></script>
  <script src="public/scripts/camera_controller.js"></script>
  <script src="public/scripts/physics_world.js"></script>
  <script src="public/scripts/collision_listener.js"></script>
</head>

<body>
  <a-scene physics-world>
    <a-assets>
      <!--Start Scene Assets-->
      <img id="start_scene_background" src="public/materials/start_scene_background.png">
      <img id="main_menu" src="public/materials/main_menu.png">
      <img id="about_game_menu" src="public/materials/about_game_menu.png">
      <img id="about_team_menu" src="public/materials/about_team_menu.png">
      <!--Game Mode Assets-->
      <img id="font_image" src="public/fonts/Whitney.png">
      <!--Fail Scene Assets-->
      <img id="fail_menu" src="public/materials/fail_menu.png">
      <!--End Scene Assets-->
      <img id="end_scene_background" src="public/materials/end_scene_background.JPG">
      <img id="end_menu" src="public/materials/end_menu.png">
      <!--<a-asset-item id="room" src="public/spooky_room.obj"></a-asset-item>-->
      <!--<a-asset-item id="room-mtl" src="public/spooky_room.mtl"></a-asset-item>-->
    </a-assets>

    <!-- <a-entity id="rig" position="0 0 0">
      <a-camera id="camera" active="true" position="0 1.6 0" user-height="0"> 
        <a-entity id="cursor" cursor="fuse: true; fuseTimeout: 1000" raycaster="objects: .clickable" position="0 0 -1" geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03" material="color: white; shader: flat">
          <a-animation begin="cursor-hovering" easing="ease-in" attribute="scale" fill="backwards" from="0.1 0.1 0.1" to="1 1 1"></a-animation>
        </a-entity>
        <a-entity id="timer_text" position="0 0.75 -1.5" text="value:Hello; color:#FFFFFF; font:public/fonts/Whitney.fnt; align:center" scale="7 7 7" timer></a-entity>
      </a-camera> 
    </a-entity> -->
    <a-entity id="rig" position="0 1.6 0" movement-controls camera-controller>
      <a-entity id="camera" camera="active:true; user-height:0" position="0 0 0" look-controls wasd-controls> 
        <a-entity id="cursor" cursor="fuse: true; fuseTimeout: 1000" raycaster="objects: .clickable" position="0 0 -1" geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03" material="color: white; shader: flat">
          <a-animation begin="cursor-hovering" easing="ease-in" attribute="scale" fill="backwards" from="0.1 0.1 0.1" to="1 1 1"></a-animation>
        </a-entity>
        <a-entity id="timer_text" position="0 0.75 -1.5" text="value:00:00; color:#FFFFFF; font:public/fonts/Whitney.fnt; align:center" scale="7 7 7" timer></a-entity>
        <a-entity id="minus_text" position="0.6 0.75 -1.5" text="value:-10; color:#FF0000; font:public/fonts/Whitney.fnt; align:center" scale="7 7 7"></a-entity>
        <a-entity id="plus_text" position="0.6 0.75 -1.5" text="value:+5; color:#00FF00; font:public/fonts/Whitney.fnt; align:center" scale="7 7 7"></a-entity>
      </a-entity> 
    </a-entity>

    <a-entity id="Start Scene">
      <a-sky rotation="0 -120 0" src="#start_scene_background"></a-sky>
      <a-image position="0 1.6 -1.5" height="2" width="1.334123" src="#main_menu"></a-image>
      <a-entity id="start_scene_button" class="clickable" position="0 1.83 -1.5" geometry="primitive: box; width: 0.72; height: 0.21; depth: 0.01" material="opacity: 0;" start-scene-cursor-listener></a-entity>
      <!--<a-box id="start_scene_button" position = "0 0.23 -1.5" width="0.72" height="0.21" depth="0.01" material="color: blue;" start-scene-cursor-listener></a-box>-->
      <a-image position="-1.5 1.6 -1" rotation="0 45 0" height="2" width="1.334123" src="#about_team_menu"></a-image>
      <a-image position="1.5 1.6 -1" rotation="0 -45 0" height="2" width="1.334123" src="#about_game_menu"></a-image>
    </a-entity>

    <a-entity id="Game Scene">
      <a-sky color="#888888"></a-sky>
      <a-plane position="0 -0.025 0" color="#000" height="20000" width="500" rotation="-90 0 0" static-body physics="friction: 0"></a-plane>></a-plane>
      <!-- <a-entity position="0 0 0" text="font: mozillavr; value: Via stock font name."></a-entity> -->
      <a-box id="dummy1" position="0 1 -3" width="2" height="2" depth="2" static-body collision-listener></a-box>
      <a-box position="0 155.5 -3" width="2" height="2" depth="2" dynamic-body color="tomato"></a-box>
      <a-sphere id="sphere" radius="2" position="0 0 0" dynamic-body="mass: 70; linearDamping: 0.95; angularDamping: 0.95">
      
      </a-sphere>
    </a-entity>

    <a-entity id="Fail Scene">
      <a-sky color="#B18840"></a-sky>
      <a-image position="0 1.6 -1.5" height="2" width="1.334123" src="#fail_menu"></a-image>
      <a-entity id="fail_scene_button" class="clickable" position="0 0.78 -1.5" geometry="primitive: box; width: 0.65; height: 0.13; depth: 0.01" material="opacity: 0;" fail-scene-cursor-listener></a-entity>
      <!--<a-box id="fail_scene_button" position = "-0.25 -0.82 -1.5" width="0.65" height="0.13" depth="0.01" material="color: blue" fail-scene-cursor-listener></a-box>-->
    </a-entity>

    <a-entity id="End Scene">
      <a-sky rotation="0.5 -80 0" src="#end_scene_background"></a-sky>
      <a-image position="0 0 -1.5" height="2" width="1.334123" src="#end_menu"></a-image>
      <a-entity id="end_scene_button" class="clickable" position="0 -0.82 -1.5" geometry="primitive: box; width: 0.65; height: 0.13; depth: 0.01" material="color: blue;" end-scene-cursor-listener></a-entity>
      <!--<a-box id="end_scene_button" position = "0.25 -0.82 -1.5" width="0.65" height="0.13" depth="0.01" material="color: blue" end-scene-cursor-listener></a-box>-->
    </a-entity>

    <a-entity id="Main Mall Manager" main-mall-manager></a-entity>
  </a-scene>
</body>

</html>